<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View employees</title>
    <link rel="icon" href="./icons/icons8-employee-64.png" type="image/icon type">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/776c2e42dc.js" crossorigin="anonymous"></script>
</head>
<style>
    *{
        font-family:system-ui;
    }
    input {
        margin-bottom: 2vh;
    }

    .row {
        margin-top: 20px
    }

    #canvas {
        position: absolute;
        top: 0;
        z-index: -9999;
        /* filter: blur(2px) */
    }

    body {
        color: white;
        background: #F5F7FA;
        font-family: 'Open Sans', sans-serif;
    }

  .card{
    width: 50vh;
  }

    a,
    li {
        list-style: none;
        text-decoration: none;
        color: black;
    }

  
</style>

<body>
    <canvas id="canvas"></canvas>
    <nav class="navbar bg-transparent">
        <div class="container-fluid">
            <a class="navbar-brand text-white" href="#">
                <!-- <img
                    src="../icons/bootstrap-logo.svg"
                    alt=""
                    width="30"
                    height="24"
                    class="d-inline-block align-text-top"
                    /> -->
                <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&pause=1000&width=435&lines=HELLO!;Employee+management+system"
                    alt="Typing SVG" />
            </a>
            <ul class="nav navbar-nav navbar-right mx-4">
                <li>
                    <a class="btn btn-outline-light" href="login.html"><span class="glyphicon glyphicon-log-in">Login
                            out</span> </a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-3">
                <div class="row">
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                    aria-controls="panelsStayOpen-collapseOne">
                                    Home
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                                aria-labelledby="panelsStayOpen-headingOne">
                                <div class="accordion-body">
                                    <ul>
                                        <li>
                                            <a href="dashboard.html">Dashboard</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#panelsStayOpen-collapseOne1" aria-expanded="true"
                                    aria-controls="panelsStayOpen-collapseOne">
                                    Employee Module
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapseOne1" class="accordion-collapse collapse"
                                aria-labelledby="panelsStayOpen-headingOne">
                                <div class="accordion-body">
                                    <ul>
                                        <li>
                                            <a href="manage.html">View employees</a>
                                        </li>
                                        <!-- <li>
                                <a href="">add/edit</a> 
                            </li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#panelsStayOpen-collapseOne2" aria-expanded="true"
                                    aria-controls="panelsStayOpen-collapseOne">
                                    Project
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapseOne2" class="accordion-collapse collapse"
                                aria-labelledby="panelsStayOpen-headingOne">
                                <div class="accordion-body">
                                    <ul>
                                        <li>
                                            <a href="project.html">Project Details</a>

                                        </li>
                                        <!-- <li>
                                    <a href="">add/edit</a> 
                                </li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#panelsStayOpen-collapseOne3" aria-expanded="true"
                                    aria-controls="panelsStayOpen-collapseOne">
                                    Report
                                </button>
                            </h2>
                            <div id="panelsStayOpen-collapseOne3" class="accordion-collapse collapse"
                                aria-labelledby="panelsStayOpen-headingOne">
                                <div class="accordion-body">
                                    <ul>
                                        <li>
                                            <a href="manage.html"></a>
                                        </li>
                                        <!-- <li>
                            <a href="">add/edit</a> 
                        </li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3"></div>
            <div class="col-md-3">
                <div class="container">
                    <div class="card text-center">
                        
                        <div class="card-body">
                            <div class="row">
                               <div class="col">
                                <img class="dp" alt="">
                               </div>
                            </div>
                          <h5 class="card-title text-capitalize text-dark"></h5>
                          <div class="details text-start">
                             <p class="card-text text-dark">Email : <a class="email text-primary"></a></p>
                          <p class="text-dark">Project : <span class="project text-success"></span></p>
                          <p class="text-dark">Phone number : <span class="phone text-success"></span></p>
                          <p class="card-text"><small class="text-muted modified"></small></p>
                          </div>
                         
                        </div>
                      </div>
                </div>
            </div>
            
        </div>
    </div>
</body>

</html>

<script>
    let canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let stars = [];
    let backgroundCanvas = "black";

    let str = ""
    let keyCode = [];
    document.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    })
    function star() {

        this.x = Math.floor(Math.random() * canvas.width);
        this.y = Math.floor(Math.random() * canvas.height);
        this.raidus = Math.floor(Math.random() * 4);
        this.vx = .3;
        this.vy = -1;
        this.color = `rgba(255,255,255,.5)`;
        this.direction = Math.PI * .5;
    };
    let countStars = 2000;

    function createStars() {
        for (let i = 0; i < countStars; i++) {
            stars.push(new star());
        }

    }
    createStars();
    function drawStars() {
        // console.log("hello")

        ctx.fillStyle = backgroundCanvas;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        stars.forEach(star => {
            ctx.fillStyle = star.color;
            ctx.beginPath();
            ctx.arc(star.x, star.y, star.raidus, 0, star.direction);
            // star.moveStars();
            ctx.fill();
            if (star.x > canvas.width) {
                star.x = 0;
            }
            if (star.y > canvas.height) {
                star.y = 0;
            }
            if (star.y < 0) {
                star.y = canvas.height;
            }
            star.x += star.vx / 2;
            star.y += star.vy;
        })
    }
    setInterval(drawStars, 20);
    // document.addEventListener("keydown", (event) => {
    //    str+=event.key;
    // //    event.preventDefault();
    //    if(event.code=="Space") {
    //     backgroundCanvas="#0B5269";
    //     stars.forEach(star =>
    //     star.color="black")
    //     str="";
    //     // alert("dark mode activated")
    //    }
    //    else if(event.altKey) {
    //     backgroundCanvas="black";
    //     stars.forEach(star =>
    //     star.color="white")
    //     str="";
    //    }

    // })
    document.addEventListener('resize', () => {
        console.log("hello")
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    })
</script>
<script>
    let params = (new URL(document.location)).searchParams;
    const id = params.get("id");
    
    const xhr = new XMLHttpRequest();
    xhr.open("GET", `http://localhost:8080/get-employee/${id}`);
    xhr.send();
    xhr.onload = function () {
        let employee = JSON.parse(this.responseText);
        document.querySelector('.card-title').innerHTML = employee.name;
        let email=document.querySelector('.email');
        email.innerHTML = employee.email;
        email.href = `mailto:${employee.email}`;
        document.querySelector('.project').innerHTML = employee.project;
        document.querySelector('.phone').innerHTML = employee.phoneNumber;
        let dp=document.querySelector('.dp');
        dp.src=`https://avatars.dicebear.com/api/croodles/${employee.name}.svg`;
        dp.style.width='12vh';
        document.querySelector('.modified').innerHTML = `Last updated : ${employee.modified}`;
    }
    
</script>
</body>

</html>